
// Enhanced Modal functionality for attractions
function initAttractionsModal() {
    // Create modal HTML with improved structure
    const modalHTML = `
        <div id="attraction-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="modal-title"></h2>
                    <button class="modal-close" onclick="closeModal()" aria-label="–ó–∞–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="modal-loading" id="modal-loading" style="display: none;">
                        <div class="modal-spinner"></div>
                    </div>
                    <div id="modal-content-wrapper">
                        <img id="modal-image" class="modal-image" src="" alt="" loading="lazy">
                        <div class="modal-rating">
                            <span class="modal-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
                            <span>4.8 –∏–∑ 5 (324 –æ—Ç–∑—ã–≤–∞)</span>
                        </div>
                        <div id="modal-description" class="modal-description"></div>
                        <div class="modal-details">
                            <h3>–ü–æ–ª–µ–∑–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
                            <ul id="modal-details-list"></ul>
                        </div>
                        <div class="modal-actions">
                            <a href="#" class="modal-btn modal-btn-primary" id="modal-route-btn">
                                üó∫Ô∏è –ü–æ—Å—Ç—Ä–æ–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç
                            </a>
                            <button class="modal-btn modal-btn-secondary" onclick="shareAttraction()">
                                üì§ –ü–æ–¥–µ–ª–∏—Ç—å—Å—è
                            </button>
                            <button class="modal-btn modal-btn-secondary" onclick="saveToFavorites()">
                                ‚ù§Ô∏è –í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    `;
    
    // Add modal to page
    document.body.insertAdjacentHTML('beforeend', modalHTML);
    
    // Enhanced attraction data with more details
    const attractionsData = {
        'elbrus': {
            title: '–ì–æ—Ä–∞ –≠–ª—å–±—Ä—É—Å',
            image: 'https://images.unsplash.com/photo-1469474968028-56623f02e42e?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
            description: '–≠–ª—å–±—Ä—É—Å ‚Äî –≤–µ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –¥–≤—É–≥–ª–∞–≤–∞—è –≤–µ—Ä—à–∏–Ω–∞, —è–≤–ª—è—é—â–∞—è—Å—è –≤—ã—Å–æ—á–∞–π—à–µ–π —Ç–æ—á–∫–æ–π –†–æ—Å—Å–∏–∏ –∏ –≤—Å–µ–π –ï–≤—Ä–æ–ø—ã. –≠—Ç–æ—Ç —Å—Ç—Ä–∞—Ç–æ–≤—É–ª–∫–∞–Ω, –ø–æ–∫—Ä—ã—Ç—ã–π –≤–µ—á–Ω—ã–º–∏ —Å–Ω–µ–≥–∞–º–∏ –∏ –ª–µ–¥–Ω–∏–∫–∞–º–∏, –≤–æ–∑–≤—ã—à–∞–µ—Ç—Å—è –Ω–∞ 5642 –º–µ—Ç—Ä–∞ –Ω–∞–¥ —É—Ä–æ–≤–Ω–µ–º –º–æ—Ä—è. –ó–∞–ø–∞–¥–Ω–∞—è –≤–µ—Ä—à–∏–Ω–∞ –Ω–µ–º–Ω–æ–≥–æ –≤—ã—à–µ –≤–æ—Å—Ç–æ—á–Ω–æ–π, –∏ –∏–º–µ–Ω–Ω–æ –æ–Ω–∞ —Å—á–∏—Ç–∞–µ—Ç—Å—è –≤—ã—Å–æ—á–∞–π—à–µ–π —Ç–æ—á–∫–æ–π –∫–æ–Ω—Ç–∏–Ω–µ–Ω—Ç–∞. –ì–æ—Ä–∞ –æ–∫—Ä—É–∂–µ–Ω–∞ 22 –ª–µ–¥–Ω–∏–∫–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–∏—Ç–∞—é—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ –≥–æ—Ä–Ω—ã—Ö —Ä–µ–∫, –≤–∫–ª—é—á–∞—è –ö—É–±–∞–Ω—å –∏ –ú–∞–ª–∫—É. –≠–ª—å–±—Ä—É—Å –Ω–µ —Ç–æ–ª—å–∫–æ –ø—Ä–∏—Ä–æ–¥–Ω–∞—è –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –Ω–æ –∏ –≤–∞–∂–Ω—ã–π –∫—É–ª—å—Ç—É—Ä–Ω—ã–π —Å–∏–º–≤–æ–ª –ö–∞–≤–∫–∞–∑–∞, –º–µ—Å—Ç–æ –ø–∞–ª–æ–º–Ω–∏—á–µ—Å—Ç–≤–∞ –∞–ª—å–ø–∏–Ω–∏—Å—Ç–æ–≤ —Å–æ –≤—Å–µ–≥–æ –º–∏—Ä–∞.',
            details: [
                '–í—ã—Å–æ—Ç–∞ –∑–∞–ø–∞–¥–Ω–æ–π –≤–µ—Ä—à–∏–Ω—ã: 5642 –º, –≤–æ—Å—Ç–æ—á–Ω–æ–π: 5621 –º',
                '–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –æ—Ç –ù–∞–ª—å—á–∏–∫–∞: 120 –∫–º (2-2.5 —á–∞—Å–∞ –Ω–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ)',
                '–ö–∞–Ω–∞—Ç–Ω–∞—è –¥–æ—Ä–æ–≥–∞ "–≠–ª—å–±—Ä—É—Å" —Ä–∞–±–æ—Ç–∞–µ—Ç –∫—Ä—É–≥–ª–æ–≥–æ–¥–∏—á–Ω–æ',
                '–°—Ç–æ–∏–º–æ—Å—Ç—å –ø–æ–¥—ä–µ–º–∞ –Ω–∞ –∫–∞–Ω–∞—Ç–Ω–æ–π –¥–æ—Ä–æ–≥–µ: –æ—Ç 1500‚ÇΩ',
                '–õ—É—á—à–µ–µ –≤—Ä–µ–º—è –¥–ª—è –≤–æ—Å—Ö–æ–∂–¥–µ–Ω–∏—è: –º–∞–π-—Å–µ–Ω—Ç—è–±—Ä—å',
                '–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –Ω–∞ –≤–µ—Ä—à–∏–Ω–µ: -20¬∞C –¥–∞–∂–µ –ª–µ—Ç–æ–º',
                '–ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ –∞–ª—å–ø–∏–Ω–∏—Å—Ç—Å–∫–æ–µ —Å–Ω–∞—Ä—è–∂–µ–Ω–∏–µ',
                '–î–æ—Å—Ç—É–ø–Ω—ã —É—Å–ª—É–≥–∏ –≥–æ—Ä–Ω—ã—Ö –≥–∏–¥–æ–≤ –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–æ–≤',
                '–ï—Å—Ç—å –≥–æ—Ä–Ω—ã–µ –ø—Ä–∏—é—Ç—ã –¥–ª—è –Ω–æ—á–µ–≤–∫–∏ –∞–ª—å–ø–∏–Ω–∏—Å—Ç–æ–≤'
            ],
            mapUrl: 'https://yandex.ru/maps/?text=–≠–ª—å–±—Ä—É—Å'
        },
        'blue-lakes': {
            title: '–ì–æ–ª—É–±—ã–µ –æ–∑–µ—Ä–∞',
            image: 'https://images.unsplash.com/photo-1433086966358-54859d0ed716?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
            description: '–ì–æ–ª—É–±—ã–µ –æ–∑–µ—Ä–∞ ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –ø—Ä–∏—Ä–æ–¥–Ω—ã–π –∫–æ–º–ø–ª–µ–∫—Å –∏–∑ –ø—è—Ç–∏ –∫–∞—Ä—Å—Ç–æ–≤—ã—Ö –æ–∑–µ—Ä, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω—ã—Ö –≤ –∂–∏–≤–æ–ø–∏—Å–Ω–æ–º –ß–µ—Ä–µ–∫—Å–∫–æ–º —É—â–µ–ª—å–µ. –ì–ª–∞–≤–Ω–∞—è –∂–µ–º—á—É–∂–∏–Ω–∞ ‚Äî –ù–∏–∂–Ω–µ–µ –ì–æ–ª—É–±–æ–µ –æ–∑–µ—Ä–æ (–¶–µ—Ä–∏–∫-–ö—ë–ª—å), –∫–æ—Ç–æ—Ä–æ–µ –ø–æ—Ä–∞–∂–∞–µ—Ç —Å–≤–æ–µ–π –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–æ–π –≥–ª—É–±–∏–Ω–æ–π –≤ 258 –º–µ—Ç—Ä–æ–≤ –∏ —É–¥–∏–≤–∏—Ç–µ–ª—å–Ω—ã–º –≥–æ–ª—É–±—ã–º —Ü–≤–µ—Ç–æ–º –≤–æ–¥—ã. –≠—Ç–æ—Ç —Ü–≤–µ—Ç –æ–±—É—Å–ª–æ–≤–ª–µ–Ω –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—è–º–∏ –ø—Ä–µ–ª–æ–º–ª–µ–Ω–∏—è —Å–≤–µ—Ç–∞ –∏ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ–º —Å–µ—Ä–æ–≤–æ–¥–æ—Ä–æ–¥–∞. –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≤–æ–¥—ã –æ—Å—Ç–∞–µ—Ç—Å—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π –∫—Ä—É–≥–ª—ã–π –≥–æ–¥ ‚Äî –æ–∫–æ–ª–æ +9¬∞C, –ø–æ—ç—Ç–æ–º—É –æ–∑–µ—Ä–æ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∑–∞–º–µ—Ä–∑–∞–µ—Ç. –ú–µ—Å—Ç–Ω—ã–µ –ª–µ–≥–µ–Ω–¥—ã –≥–ª–∞—Å—è—Ç, —á—Ç–æ –Ω–∞ –¥–Ω–µ –æ–∑–µ—Ä–∞ –∂–∏–≤–µ—Ç –≤–æ–¥—è–Ω–æ–π –¥—É—Ö, –æ—Ö—Ä–∞–Ω—è—é—â–∏–π —Å–æ–∫—Ä–æ–≤–∏—â–∞.',
            details: [
                '–ì–ª—É–±–∏–Ω–∞ –ù–∏–∂–Ω–µ–≥–æ –ì–æ–ª—É–±–æ–≥–æ –æ–∑–µ—Ä–∞: 258 –º–µ—Ç—Ä–æ–≤',
                '–ü–æ—Å—Ç–æ—è–Ω–Ω–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≤–æ–¥—ã: +9¬∞C –∫—Ä—É–≥–ª—ã–π –≥–æ–¥',
                '–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –æ—Ç –ù–∞–ª—å—á–∏–∫–∞: 60 –∫–º (1.5 —á–∞—Å–∞ –Ω–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ)',
                '–í—Ö–æ–¥–Ω–∞—è –ø–ª–∞—Ç–∞: 100‚ÇΩ —Å –≤–∑—Ä–æ—Å–ª–æ–≥–æ, –¥–µ—Ç–∏ –¥–æ 12 –ª–µ—Ç –±–µ—Å–ø–ª–∞—Ç–Ω–æ',
                '–û–∑–µ—Ä–æ –Ω–µ –∑–∞–º–µ—Ä–∑–∞–µ—Ç –¥–∞–∂–µ –≤ —Å–∏–ª—å–Ω—ã–µ –º–æ—Ä–æ–∑—ã',
                '–ú–æ–∂–Ω–æ –∫—É–ø–∞—Ç—å—Å—è (–¥–ª—è –æ—á–µ–Ω—å –∑–∞–∫–∞–ª–µ–Ω–Ω—ã—Ö –ª—é–¥–µ–π)',
                '–†—è–¥–æ–º —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞—Ñ–µ –Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –∫—É—Ö–Ω–∏',
                '–ï—Å—Ç—å —Å—É–≤–µ–Ω–∏—Ä–Ω—ã–µ –ª–∞–≤–∫–∏ —Å –º–µ—Å—Ç–Ω—ã–º–∏ –∏–∑–¥–µ–ª–∏—è–º–∏',
                '–û—Ä–≥–∞–Ω–∏–∑—É—é—Ç—Å—è —ç–∫—Å–∫—É—Ä—Å–∏–∏ —Å –≥–∏–¥–æ–º –∏ –¥–µ–≥—É—Å—Ç–∞—Ü–∏–µ–π'
            ],
            mapUrl: 'https://yandex.ru/maps/?text=–ì–æ–ª—É–±—ã–µ –æ–∑–µ—Ä–∞ –ö–ë–†'
        },
        'national-park': {
            title: '–ü—Ä–∏—ç–ª—å–±—Ä—É—Å—Å–∫–∏–π –Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–∞—Ä–∫',
            image: 'https://images.unsplash.com/photo-1482938289607-e9573fc25ebb?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
            description: '–ü—Ä–∏—ç–ª—å–±—Ä—É—Å—Å–∫–∏–π –Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–∞—Ä–∫ ‚Äî –Ω–∞—Å—Ç–æ—è—â–∞—è —Å–æ–∫—Ä–æ–≤–∏—â–Ω–∏—Ü–∞ –∫–∞–≤–∫–∞–∑—Å–∫–æ–π –ø—Ä–∏—Ä–æ–¥—ã, —Å–æ–∑–¥–∞–Ω–Ω–∞—è –≤ 1986 –≥–æ–¥—É –¥–ª—è –æ—Ö—Ä–∞–Ω—ã —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –≤—ã—Å–æ–∫–æ–≥–æ—Ä–Ω—ã—Ö —ç–∫–æ—Å–∏—Å—Ç–µ–º. –ü–∞—Ä–∫ –æ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—é –≤ 101 —Ç—ã—Å—è—á—É –≥–µ–∫—Ç–∞—Ä–æ–≤ –∏ –≤–∫–ª—é—á–∞–µ—Ç —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–µ –ª–∞–Ω–¥—à–∞—Ñ—Ç—ã: –æ—Ç –ª–∏—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ª–µ—Å–æ–≤ –≤ –¥–æ–ª–∏–Ω–∞—Ö –¥–æ –∞–ª—å–ø–∏–π—Å–∫–∏—Ö –ª—É–≥–æ–≤ –∏ –ª–µ–¥–Ω–∏–∫–æ–≤ –Ω–∞ –≤—ã—Å–æ—á–∞–π—à–∏—Ö –≤–µ—Ä—à–∏–Ω–∞—Ö. –ó–¥–µ—Å—å –ø—Ä–æ–∏–∑—Ä–∞—Å—Ç–∞–µ—Ç –±–æ–ª–µ–µ 2500 –≤–∏–¥–æ–≤ —Ä–∞—Å—Ç–µ–Ω–∏–π, –º–Ω–æ–≥–∏–µ –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö —è–≤–ª—è—é—Ç—Å—è —ç–Ω–¥–µ–º–∏–∫–∞–º–∏ –ö–∞–≤–∫–∞–∑–∞. –§–∞—É–Ω–∞ –ø–∞—Ä–∫–∞ –Ω–µ –º–µ–Ω–µ–µ –±–æ–≥–∞—Ç–∞ ‚Äî –∑–¥–µ—Å—å –æ–±–∏—Ç–∞—é—Ç –∫–∞–≤–∫–∞–∑—Å–∫–∏–π —Ç—É—Ä, —Å–µ—Ä–Ω–∞, –±—É—Ä—ã–π –º–µ–¥–≤–µ–¥—å, —Ä—ã—Å—å, –±–µ—Ä–∫—É—Ç –∏ –º–Ω–æ–≥–∏–µ –¥—Ä—É–≥–∏–µ –≤–∏–¥—ã.',
            details: [
                '–ü–ª–æ—â–∞–¥—å –ø–∞—Ä–∫–∞: 101 037 –≥–µ–∫—Ç–∞—Ä–æ–≤',
                '–í—ã—Å–æ—Ç–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω: –æ—Ç 1400 –¥–æ 5642 –º–µ—Ç—Ä–æ–≤',
                '–ë–æ–ª–µ–µ 2500 –≤–∏–¥–æ–≤ —Ä–∞—Å—Ç–µ–Ω–∏–π, –≤–∫–ª—é—á–∞—è —Ä–µ–¥–∫–∏–µ —ç–Ω–¥–µ–º–∏–∫–∏',
                '–û–∫–æ–ª–æ 200 –≤–∏–¥–æ–≤ –∂–∏–≤–æ—Ç–Ω—ã—Ö –∏ 160 –≤–∏–¥–æ–≤ –ø—Ç–∏—Ü',
                '–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ –±–æ–ª–µ–µ 15 —Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤',
                '–†–∞–±–æ—Ç–∞—é—Ç –≥–æ—Å—Ç–µ–≤—ã–µ –¥–æ–º–∞ –∏ –≥–æ—Ä–Ω—ã–µ –ø—Ä–∏—é—Ç—ã',
                '–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã —ç–∫—Å–∫—É—Ä—Å–∏–∏ —Å —Å–µ—Ä—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –≥–∏–¥–∞–º–∏',
                '–í—ä–µ–∑–¥ –≤ –ø–∞—Ä–∫ –ø–æ –ø—Ä–æ–ø—É—Å–∫–∞–º (–æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–µ)',
                '–°–µ–∑–æ–Ω –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ç—É—Ä–∏–∑–º–∞: –º–∞–π-–æ–∫—Ç—è–±—Ä—å'
            ],
            mapUrl: 'https://yandex.ru/maps/?text=–ü—Ä–∏—ç–ª—å–±—Ä—É—Å—Å–∫–∏–π –Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–∞—Ä–∫'
        },
        'atazhukinsky-garden': {
            title: '–ê—Ç–∞–∂—É–∫–∏–Ω—Å–∫–∏–π —Å–∞–¥',
            image: 'https://images.unsplash.com/photo-1470071459604-3b5ec3a7fe05?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
            description: '–ê—Ç–∞–∂—É–∫–∏–Ω—Å–∫–∏–π —Å–∞–¥ ‚Äî –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–µ —Å–µ—Ä–¥—Ü–µ –ù–∞–ª—å—á–∏–∫–∞ –∏ –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö –±–æ–ª—å—à–∏—Ö –ø–∞—Ä–∫–æ–≤ –Ω–∞ –°–µ–≤–µ—Ä–Ω–æ–º –ö–∞–≤–∫–∞–∑–µ. –û—Å–Ω–æ–≤–∞–Ω–Ω—ã–π –≤ 1847 –≥–æ–¥—É, –ø–∞—Ä–∫ –Ω–∞–∑–≤–∞–Ω –≤ —á–µ—Å—Ç—å –∫–∞–±–∞—Ä–¥–∏–Ω—Å–∫–æ–≥–æ –∫–Ω—è–∑—è –ê—Ç–∞–∂—É–∫–æ –ù–∞–≥–æ–µ–≤–∞, –∫–æ—Ç–æ—Ä—ã–π –≤–Ω–µ—Å –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–π –≤–∫–ª–∞–¥ –≤ —Ä–∞–∑–≤–∏—Ç–∏–µ —Ä–µ–≥–∏–æ–Ω–∞. –ù–∞ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏ 250 –≥–µ–∫—Ç–∞—Ä–æ–≤ —Å–æ–∑–¥–∞–Ω —É–¥–∏–≤–∏—Ç–µ–ª—å–Ω—ã–π –±–æ—Ç–∞–Ω–∏—á–µ—Å–∫–∏–π –º–∏—Ä, –≥–¥–µ –ø—Ä–æ–∏–∑—Ä–∞—Å—Ç–∞–µ—Ç –±–æ–ª–µ–µ 150 –≤–∏–¥–æ–≤ –¥–µ—Ä–µ–≤—å–µ–≤ –∏ –∫—É—Å—Ç–∞—Ä–Ω–∏–∫–æ–≤ —Å–æ –≤—Å–µ—Ö –∫–æ–Ω—Ç–∏–Ω–µ–Ω—Ç–æ–≤. –ü–∞—Ä–∫ —è–≤–ª—è–µ—Ç—Å—è –Ω–µ —Ç–æ–ª—å–∫–æ –º–µ—Å—Ç–æ–º –æ—Ç–¥—ã—Ö–∞, –Ω–æ –∏ –≤–∞–∂–Ω—ã–º –∫—É–ª—å—Ç—É—Ä–Ω—ã–º —Ü–µ–Ω—Ç—Ä–æ–º —Å –º–Ω–æ–≥–æ—á–∏—Å–ª–µ–Ω–Ω—ã–º–∏ –ø–∞–º—è—Ç–Ω–∏–∫–∞–º–∏, —Ñ–æ–Ω—Ç–∞–Ω–∞–º–∏ –∏ –∫—É–ª—å—Ç—É—Ä–Ω—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏.',
            details: [
                '–ü–ª–æ—â–∞–¥—å –ø–∞—Ä–∫–∞: 250 –≥–µ–∫—Ç–∞—Ä–æ–≤',
                '–ì–æ–¥ –æ—Å–Ω–æ–≤–∞–Ω–∏—è: 1847 (–æ–¥–∏–Ω –∏–∑ —Å—Ç–∞—Ä–µ–π—à–∏—Ö –ø–∞—Ä–∫–æ–≤ –†–æ—Å—Å–∏–∏)',
                '–ö–æ–ª–ª–µ–∫—Ü–∏—è –≤–∫–ª—é—á–∞–µ—Ç –±–æ–ª–µ–µ 150 –≤–∏–¥–æ–≤ —Ä–∞—Å—Ç–µ–Ω–∏–π',
                '–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –≤—Ö–æ–¥ –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è —Å—É—Ç–æ–∫',
                '–†–∞–±–æ—Ç–∞–µ—Ç –∫—Ä—É–≥–ª–æ—Å—É—Ç–æ—á–Ω–æ –±–µ–∑ –≤—ã—Ö–æ–¥–Ω—ã—Ö',
                '–ü—Ä–æ–∫–∞—Ç –≤–µ–ª–æ—Å–∏–ø–µ–¥–æ–≤, —Ä–æ–ª–∏–∫–æ–≤ –∏ —Å–∞–º–æ–∫–∞—Ç–æ–≤',
                '–î–µ—Ç—Å–∫–∏–µ –ø–ª–æ—â–∞–¥–∫–∏ –∏ —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ –∑–æ–Ω—ã',
                '–ú–Ω–æ–≥–æ—á–∏—Å–ª–µ–Ω–Ω—ã–µ –∫–∞—Ñ–µ –∏ —Ç–æ—á–∫–∏ –ø–∏—Ç–∞–Ω–∏—è',
                '–†–µ–≥—É–ª—è—Ä–Ω—ã–µ –∫—É–ª—å—Ç—É—Ä–Ω—ã–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è –∏ —Ñ–µ—Å—Ç–∏–≤–∞–ª–∏'
            ],
            mapUrl: 'https://yandex.ru/maps/?text=–ê—Ç–∞–∂—É–∫–∏–Ω—Å–∫–∏–π —Å–∞–¥ –ù–∞–ª—å—á–∏–∫'
        },
        'chegem-waterfalls': {
            title: '–ß–µ–≥–µ–º—Å–∫–∏–µ –≤–æ–¥–æ–ø–∞–¥—ã',
            image: 'https://images.unsplash.com/photo-1472396961693-142e6e269027?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
            description: '–ß–µ–≥–µ–º—Å–∫–∏–µ –≤–æ–¥–æ–ø–∞–¥—ã ‚Äî –æ–¥–Ω–æ –∏–∑ —Å–∞–º—ã—Ö –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—é—â–∏—Ö –ø—Ä–∏—Ä–æ–¥–Ω—ã—Ö —á—É–¥–µ—Å –ö–∞–±–∞—Ä–¥–∏–Ω–æ-–ë–∞–ª–∫–∞—Ä–∏–∏, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω–æ–µ –≤ —É–∑–∫–æ–º –ß–µ–≥–µ–º—Å–∫–æ–º —É—â–µ–ª—å–µ. –ì–ª–∞–≤–Ω—ã–π –≤–æ–¥–æ–ø–∞–¥ "–î–µ–≤–∏—á—å—è –∫–æ—Å–∞" —ç—Ñ—Ñ–µ–∫—Ç–Ω–æ –Ω–∏–∑–≤–µ—Ä–≥–∞–µ—Ç—Å—è —Å –≤—ã—Å–æ—Ç—ã –±–æ–ª–µ–µ 50 –º–µ—Ç—Ä–æ–≤, —Å–æ–∑–¥–∞–≤–∞—è –æ–±–ª–∞–∫–æ –≤–æ–¥—è–Ω–æ–π –ø—ã–ª–∏. –û—Å–æ–±–µ–Ω–Ω–æ –≤–ø–µ—á–∞—Ç–ª—è—é—â–∏–º–∏ –≤–æ–¥–æ–ø–∞–¥—ã —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –∑–∏–º–æ–π, –∫–æ–≥–¥–∞ —á–∞—Å—Ç–∏—á–Ω–æ –∑–∞–º–µ—Ä–∑–∞—é—Ç, –æ–±—Ä–∞–∑—É—è —Ñ–∞–Ω—Ç–∞—Å—Ç–∏—á–µ—Å–∫–∏–µ –ª–µ–¥—è–Ω—ã–µ –∫–æ–ª–æ–Ω–Ω—ã –∏ —Å–æ—Å—É–ª—å–∫–∏, –ø–µ—Ä–µ–ª–∏–≤–∞—é—â–∏–µ—Å—è –Ω–∞ —Å–æ–ª–Ω—Ü–µ –≤—Å–µ–º–∏ —Ü–≤–µ—Ç–∞–º–∏ —Ä–∞–¥—É–≥–∏. –£—â–µ–ª—å–µ –æ–∫—Ä—É–∂–µ–Ω–æ –æ—Ç–≤–µ—Å–Ω—ã–º–∏ —Å–∫–∞–ª–∞–º–∏ –≤—ã—Å–æ—Ç–æ–π –¥–æ 300 –º–µ—Ç—Ä–æ–≤, —á—Ç–æ —Å–æ–∑–¥–∞–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—É—é –∞–∫—É—Å—Ç–∏–∫—É ‚Äî –∫–∞–∂–¥—ã–π –∑–≤—É–∫ –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ –æ—Ç—Ä–∞–∂–∞–µ—Ç—Å—è –æ—Ç —Å—Ç–µ–Ω.',
            details: [
                '–í—ã—Å–æ—Ç–∞ –≥–ª–∞–≤–Ω–æ–≥–æ –≤–æ–¥–æ–ø–∞–¥–∞ "–î–µ–≤–∏—á—å—è –∫–æ—Å–∞": –±–æ–ª–µ–µ 50 –º–µ—Ç—Ä–æ–≤',
                '–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –æ—Ç –ù–∞–ª—å—á–∏–∫–∞: 45 –∫–º (1 —á–∞—Å –Ω–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ)',
                '–õ—É—á—à–µ–µ –≤—Ä–µ–º—è –ø–æ—Å–µ—â–µ–Ω–∏—è: –≤–µ—Å–Ω–∞ (–ø–æ–ª–Ω–æ–≤–æ–¥–Ω–æ—Å—Ç—å) –∏ –∑–∏–º–∞ (–ª–µ–¥—è–Ω—ã–µ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è)',
                '–ó–∏–º–æ–π –≤–æ–¥–æ–ø–∞–¥—ã –ø—Ä–µ–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ –ª–µ–¥—è–Ω—ã–µ –∫–æ–ª–æ–Ω–Ω—ã',
                '–û–±–æ—Ä—É–¥–æ–≤–∞–Ω—ã —Å–º–æ—Ç—Ä–æ–≤—ã–µ –ø–ª–æ—â–∞–¥–∫–∏ —Å –æ–≥—Ä–∞–∂–¥–µ–Ω–∏—è–º–∏',
                '–ü–ª–∞—Ç–Ω–∞—è –ø–∞—Ä–∫–æ–≤–∫–∞: 50‚ÇΩ, –µ—Å—Ç—å –æ—Ö—Ä–∞–Ω—è–µ–º–∞—è —Å—Ç–æ—è–Ω–∫–∞',
                '–†–∞–±–æ—Ç–∞—é—Ç –∫–∞—Ñ–µ —Å –Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –∫—É—Ö–Ω–µ–π',
                '–ü—Ä–æ–¥–∞—é—Ç—Å—è —Å—É–≤–µ–Ω–∏—Ä—ã –º–µ—Å—Ç–Ω—ã—Ö –º–∞—Å—Ç–µ—Ä–æ–≤',
                '–í–æ–∑–º–æ–∂–Ω—ã –∫–æ–Ω–Ω—ã–µ –ø—Ä–æ–≥—É–ª–∫–∏ –ø–æ –æ–∫—Ä–µ—Å—Ç–Ω–æ—Å—Ç—è–º'
            ],
            mapUrl: 'https://yandex.ru/maps/?text=–ß–µ–≥–µ–º—Å–∫–∏–µ –≤–æ–¥–æ–ø–∞–¥—ã'
        },
        'narzan-valley': {
            title: '–î–æ–ª–∏–Ω–∞ –ù–∞—Ä–∑–∞–Ω–æ–≤',
            image: 'https://images.unsplash.com/photo-1426604966848-d7adac402bff?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
            description: '–î–æ–ª–∏–Ω–∞ –ù–∞—Ä–∑–∞–Ω–æ–≤ ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ –º–µ—Å—Ç–æ –Ω–∞ –ø–ª–∞–Ω–µ—Ç–µ, –≥–¥–µ –∏–∑ –Ω–µ–¥—Ä –∑–µ–º–ª–∏ –±—å—é—Ç –±–æ–ª–µ–µ 20 –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ —Ü–µ–ª–µ–±–Ω–æ–π –º–∏–Ω–µ—Ä–∞–ª—å–Ω–æ–π –≤–æ–¥—ã —Ä–∞–∑–ª–∏—á–Ω–æ–≥–æ —Å–æ—Å—Ç–∞–≤–∞. –ù–∞–∑–≤–∞–Ω–∏–µ "–Ω–∞—Ä–∑–∞–Ω" –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ—Ç –∫–∞–±–∞—Ä–¥–∏–Ω—Å–∫–æ–≥–æ "–Ω–∞—Ä—Ç —Å–∞–Ω—ç", —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç "–Ω–∞–ø–∏—Ç–æ–∫ –±–æ–≥–∞—Ç—ã—Ä–µ–π-–Ω–∞—Ä—Ç–æ–≤". –í–æ–¥–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç —É–≥–ª–µ–∫–∏—Å–ª–æ—Ç—É, –∂–µ–ª–µ–∑–æ, –º–∞–≥–Ω–∏–π –∏ –¥—Ä—É–≥–∏–µ –ø–æ–ª–µ–∑–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã. –ö–∞–∂–¥—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏–º–µ–µ—Ç —Å–≤–æ–π –Ω–µ–ø–æ–≤—Ç–æ—Ä–∏–º—ã–π –≤–∫—É—Å –∏ –ª–µ—á–µ–±–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞. –î–æ–ª–∏–Ω–∞ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∞ –Ω–∞ –≤—ã—Å–æ—Ç–µ 1300 –º–µ—Ç—Ä–æ–≤ –Ω–∞–¥ —É—Ä–æ–≤–Ω–µ–º –º–æ—Ä—è –≤ –æ–∫—Ä—É–∂–µ–Ω–∏–∏ –≤–µ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –≥–æ—Ä–Ω—ã—Ö –ø–µ–π–∑–∞–∂–µ–π, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –ø–æ—Å–µ—â–µ–Ω–∏–µ –Ω–µ —Ç–æ–ª—å–∫–æ –ø–æ–ª–µ–∑–Ω—ã–º, –Ω–æ –∏ –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–æ –∫—Ä–∞—Å–∏–≤—ã–º.',
            details: [
                '–ë–æ–ª–µ–µ 20 –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º —Å–æ—Å—Ç–∞–≤–æ–º –≤–æ–¥—ã',
                '–ü–æ—Å—Ç–æ—è–Ω–Ω–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≤–æ–¥—ã: +10-12¬∞C',
                '–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –æ—Ç –ù–∞–ª—å—á–∏–∫–∞: 100 –∫–º (2.5 —á–∞—Å–∞ –Ω–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ)',
                '–í—ã—Å–æ—Ç–∞ –Ω–∞–¥ —É—Ä–æ–≤–Ω–µ–º –º–æ—Ä—è: 1300 –º–µ—Ç—Ä–æ–≤',
                '–í–æ–¥–∞ –æ–±–ª–∞–¥–∞–µ—Ç –¥–æ–∫–∞–∑–∞–Ω–Ω—ã–º–∏ –ª–µ—á–µ–±–Ω—ã–º–∏ —Å–≤–æ–π—Å—Ç–≤–∞–º–∏',
                '–°–≤–æ–±–æ–¥–Ω—ã–π –∑–∞–±–æ—Ä –≤–æ–¥—ã –¥–ª—è –ª–∏—á–Ω–æ–≥–æ —É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è',
                '–û—Ä–≥–∞–Ω–∏–∑—É—é—Ç—Å—è —ç–∫—Å–∫—É—Ä—Å–∏–∏ —Å –¥–µ–≥—É—Å—Ç–∞—Ü–∏–µ–π —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤',
                '–ï—Å—Ç—å –≥–æ—Å—Ç–µ–≤—ã–µ –¥–æ–º–∞ –¥–ª—è –º–Ω–æ–≥–æ–¥–Ω–µ–≤–Ω–æ–≥–æ –æ—Ç–¥—ã—Ö–∞',
                '–†–∞–±–æ—Ç–∞–µ—Ç –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–π —Ü–µ–Ω—Ç—Ä –ø—Ä–∏—Ä–æ–¥–Ω–æ–π —Ç–µ—Ä–∞–ø–∏–∏'
            ],
            mapUrl: 'https://yandex.ru/maps/?text=–î–æ–ª–∏–Ω–∞ –ù–∞—Ä–∑–∞–Ω–æ–≤ –ö–ë–†'
        }
    };
    
    // Add click events to attraction cards
    const attractionCards = document.querySelectorAll('.content-card');
    attractionCards.forEach((card, index) => {
        const attractionKeys = Object.keys(attractionsData);
        if (index < attractionKeys.length) {
            card.style.cursor = 'pointer';
            card.addEventListener('click', () => {
                openModal(attractionKeys[index]);
            });
            
            // Add hover effect
            card.addEventListener('mouseenter', () => {
                card.style.transform = 'translateY(-8px)';
            });
            
            card.addEventListener('mouseleave', () => {
                card.style.transform = 'translateY(0)';
            });
        }
    });
    
    // Enhanced open modal function
    window.openModal = function(attractionKey) {
        const data = attractionsData[attractionKey];
        if (!data) return;
        
        const modal = document.getElementById('attraction-modal');
        const loading = document.getElementById('modal-loading');
        const content = document.getElementById('modal-content-wrapper');
        
        // Show modal
        modal.classList.add('show');
        loading.style.display = 'flex';
        content.style.display = 'none';
        document.body.style.overflow = 'hidden';
        
        // Simulate loading for better UX
        setTimeout(() => {
            // Set content
            document.getElementById('modal-title').textContent = data.title;
            
            const modalImage = document.getElementById('modal-image');
            modalImage.src = data.image;
            modalImage.alt = data.title;
            
            document.getElementById('modal-description').textContent = data.description;
            
            const detailsList = document.getElementById('modal-details-list');
            detailsList.innerHTML = '';
            data.details.forEach(detail => {
                const li = document.createElement('li');
                li.textContent = detail;
                detailsList.appendChild(li);
            });
            
            // Set route button
            const routeBtn = document.getElementById('modal-route-btn');
            routeBtn.href = data.mapUrl;
            routeBtn.target = '_blank';
            
            // Hide loading and show content
            loading.style.display = 'none';
            content.style.display = 'block';
        }, 500);
    };
    
    // Enhanced close modal function
    window.closeModal = function() {
        const modal = document.getElementById('attraction-modal');
        modal.classList.remove('show');
        document.body.style.overflow = 'auto';
        
        // Reset content after animation
        setTimeout(() => {
            document.getElementById('modal-content-wrapper').style.display = 'none';
        }, 400);
    };
    
    // Share function
    window.shareAttraction = function() {
        const title = document.getElementById('modal-title').textContent;
        const url = window.location.href;
        
        if (navigator.share) {
            navigator.share({
                title: `${title} - –ù–∞–ª—å—á–∏–∫`,
                text: `–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ —ç—Ç—É –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å: ${title}`,
                url: url
            });
        } else {
            // Fallback for browsers without Web Share API
            const shareUrl = `https://t.me/share/url?url=${encodeURIComponent(url)}&text=${encodeURIComponent(`${title} - –ù–∞–ª—å—á–∏–∫`)}`;
            window.open(shareUrl, '_blank');
        }
    };
    
    // Save to favorites function
    window.saveToFavorites = function() {
        const title = document.getElementById('modal-title').textContent;
        let favorites = JSON.parse(localStorage.getItem('nalchik-favorites') || '[]');
        
        if (!favorites.includes(title)) {
            favorites.push(title);
            localStorage.setItem('nalchik-favorites', JSON.stringify(favorites));
            
            // Show success message
            const btn = event.target;
            const originalText = btn.innerHTML;
            btn.innerHTML = '‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ!';
            btn.style.background = '#4a7c59';
            
            setTimeout(() => {
                btn.innerHTML = originalText;
                btn.style.background = '';
            }, 2000);
        } else {
            // Show already saved message
            const btn = event.target;
            const originalText = btn.innerHTML;
            btn.innerHTML = 'üìå –£–∂–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ';
            
            setTimeout(() => {
                btn.innerHTML = originalText;
            }, 2000);
        }
    };
    
    // Close modal when clicking outside
    document.addEventListener('click', function(e) {
        const modal = document.getElementById('attraction-modal');
        if (e.target === modal) {
            closeModal();
        }
    });
    
    // Close modal with Escape key
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
            const modal = document.getElementById('attraction-modal');
            if (modal.classList.contains('show')) {
                closeModal();
            }
        }
    });
}

// Initialize modal when page loads
document.addEventListener('DOMContentLoaded', function() {
    if (document.querySelector('.content-grid')) {
        initAttractionsModal();
    }
});
